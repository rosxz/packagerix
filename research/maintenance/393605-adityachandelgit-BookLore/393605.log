[K[Kcopying path '/nix/store/dax78flrvcdir20swzlcm64va09nh5x8-source' from 'https://cache.nixos.org'...
copying path '/nix/store/brjzz8wv5k09bq0yrvhc1j4hd8677k21-source' from 'https://cache.nixos.org'...
copying path '/nix/store/x9wnkly3k1gkq580m90jjn32q9f05q2v-source' from 'https://cache.nixos.org'...
copying path '/nix/store/yq3hi63knlj4sgzl9hi6hnzrjmz9swkb-source' from 'https://cache.nixos.org'...
copying path '/nix/store/rzdjxxf4jkv3qdsjxkg54fxbma5zr05k-gnu-config-2024-01-01' from 'https://cache.nixos.org'...
copying path '/nix/store/f39n04f53gaq597r5vbl36j2470jdc37-nixpkgs-package-embeddings-unstable-2024-01-05' from 'https://vibenix.cachix.org'...
copying path '/nix/store/lxkyjky1aprqsd4g62bps6k1lzp6ls6d-noogle-function-names' from 'https://vibenix.cachix.org'...
copying path '/nix/store/wrna5hk5vyb3gvzfanbva7x4iazhlzjx-aiohappyeyeballs-2.6.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/77srrzrgwvkjif2p3brpzjc1ih85a0il-aiohttp-3.12.13' from 'https://vibenix.cachix.org'...
copying path '/nix/store/93zy1ihqi6xvxajdvx6kks1g78vbnkmn-aiosignal-1.4.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/1pzivymc3760p75s4mkf3krj36ga46y4-annotated-types-0.7.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/icl0rbsym6fws9v6lrbnbjh4df70g6qw-anyio-4.9.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/dbs44h4n71285l5a411aq5q145hiklq6-attrs-25.3.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/a0ksff5nh822mgff92ag1378vnncdyyy-beautifulsoup4-4.13.4' from 'https://vibenix.cachix.org'...
copying path '/nix/store/q9aa899myqq983cs3h0hm3mrmjbzz9rx-certifi-2025.6.15' from 'https://vibenix.cachix.org'...
copying path '/nix/store/2j9967a0w69g2zyb0f4gxkv9a4nidix2-cffi-1.17.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/b4yns4w7x5hcqxl0snvcs2aaqdy5wcy7-click-8.2.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/pn6fb0zaxjml7y5bqdvm8c80allwdqg6-diskcache-5.6.3' from 'https://vibenix.cachix.org'...
copying path '/nix/store/7y35xx2z1avbyzaawjpayvp92k126y50-filelock-3.18.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/jpl4s53112dzl04rsx02plkc42kag541-flatbuffers-25.2.10' from 'https://vibenix.cachix.org'...
copying path '/nix/store/afacgi173j35xdc3rih1i2iadx8k68vr-abseil-cpp-20250127.1' from 'https://cache.nixos.org'...
copying path '/nix/store/974a51073v6cb7cr5j0dazanxzmk9bxg-binutils-2.44-lib' from 'https://cache.nixos.org'...
copying path '/nix/store/1abbyfv3bpxalfjfgpmwg8jcy931bf76-bzip2-1.0.8-bin' from 'https://cache.nixos.org'...
copying path '/nix/store/ajb370ch8fqr4m2zlgf5k6k9bj66qk3m-c-ares-1.34.5' from 'https://cache.nixos.org'...
copying path '/nix/store/3hkppj1kz6wa72ydac0w3qazbsndgk9j-cryptography-45.0.5' from 'https://vibenix.cachix.org'...
copying path '/nix/store/w762xfdg6qkyamncs8s33m182n45nmma-dav1d-1.5.1' from 'https://cache.nixos.org'...
copying path '/nix/store/2x51wvk10m9l014lyrfdskc3b360ifjp-ed-1.21.1' from 'https://cache.nixos.org'...
copying path '/nix/store/j0bzxly2rvcym1zkhn393adiqcwn8np6-expat-2.7.1' from 'https://cache.nixos.org'...
copying path '/nix/store/p9k7bd23v5yvmap9594f9x7hpvacdh32-expand-response-params' from 'https://cache.nixos.org'...
copying path '/nix/store/imhzyxqr7swq08ip81az5kfa07r07kg0-file-5.46' from 'https://cache.nixos.org'...
copying path '/nix/store/719j8zd8g3pa5605b7a6w5csln323b1x-fribidi-1.0.16' from 'https://cache.nixos.org'...
copying path '/nix/store/ljlh1fbr3ym68dxjp3ck86if57wh8lqw-frozenlist-1.7.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/w448kjr7ng37ppka5gimnabg6avwpzys-fsspec-2025.5.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/fcyn0dqszgfysiasdmkv1jh3syncajay-gawk-5.3.2' from 'https://cache.nixos.org'...
copying path '/nix/store/sdqvwr8gc74ms9cgf56yvy409xvl8hsf-gettext-0.22.5' from 'https://cache.nixos.org'...
copying path '/nix/store/qkzkz12l4q06lzbji0ifgynzrd44bpjs-gdbm-1.25-lib' from 'https://cache.nixos.org'...
copying path '/nix/store/rzq0z5r673131pgvnghyyk5ccpgivpy3-gfortran-14.2.1.20250322-libgcc' from 'https://cache.nixos.org'...
copying path '/nix/store/d9x4blp2xwsbamz8az3c54x7la08j6ln-giflib-5.2.2' from 'https://cache.nixos.org'...
copying path '/nix/store/9vd0bjq0y30d80f4yfrg4wj9xpqbyzhk-gitpython-3.1.44' from 'https://vibenix.cachix.org'...
copying path '/nix/store/5cw0l0z6wr19ra9shv9hwkq4chvi526g-gitdb-4.0.12' from 'https://vibenix.cachix.org'...
copying path '/nix/store/303islqk386z1w2g1ngvxnkl4glfpgrs-glibc-2.40-66-bin' from 'https://cache.nixos.org'...
copying path '/nix/store/dwwc14ppzkl0yphcgsz25xvi24c9d1zm-gmp-6.3.0' from 'https://cache.nixos.org'...
copying path '/nix/store/nzg6zqsijbv7yc95wlfcdswx6bg69srq-gmp-with-cxx-6.3.0' from 'https://cache.nixos.org'...
copying path '/nix/store/gqmr3gixlddz3667ba1iyqck3c0dkpvd-gnugrep-3.11' from 'https://cache.nixos.org'...
copying path '/nix/store/n04sxidn013wvhqp0d2sx6w052w8b9w5-gfortran-14.2.1.20250322-lib' from 'https://cache.nixos.org'...
copying path '/nix/store/v63bxfiacw082c7ijshf60alvvrpfxsq-binutils-2.44' from 'https://cache.nixos.org'...
copying path '/nix/store/kv10h4pidkmx8cjs2sw2pi9rlcnighbc-gnumake-4.4.1' from 'https://cache.nixos.org'...
copying path '/nix/store/wrxvqj822kz8746608lgns7h8mkpn79f-gnutar-1.35' from 'https://cache.nixos.org'...
copying path '/nix/store/clbb2cvigynr235ab5zgi18dyavznlk2-gnused-4.9' from 'https://cache.nixos.org'...
copying path '/nix/store/y7g9g1gfg1f6y3gm2h02i7hmjzv10f9q-dav1d-1.5.1-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/088li1j480s9yv1736wiz7a26bxi405w-graphite2-1.3.14' from 'https://cache.nixos.org'...
copying path '/nix/store/afhkqb5a94zlwjxigsnwsfwkf38h21dk-gzip-1.14' from 'https://cache.nixos.org'...
copying path '/nix/store/1rvcmxd71scqgmhgnh7337l5hhvaa44c-h11-0.16.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/dd13p1v3bvdwq9nhi2bm5g0v0k6l61g1-hf-xet-1.1.5' from 'https://vibenix.cachix.org'...
copying path '/nix/store/q7lfcy39jch8nyjsg6kx2nczyv8rnb0b-httpcore-1.0.9' from 'https://vibenix.cachix.org'...
copying path '/nix/store/j4gc8fk7wazgn2hqnh0m8b12xx6m1n75-iana-etc-20250108' from 'https://cache.nixos.org'...
copying path '/nix/store/i4lj3w4yd9x9jbi7a1xhjqsr7bg8jq7p-icu4c-76.1' from 'https://cache.nixos.org'...
copying path '/nix/store/zbm5siak8g8283v5khxdb6m45dcwfnar-idna-3.10' from 'https://vibenix.cachix.org'...
copying path '/nix/store/kyk1y2j235h7i4a4xgx9a9nbj08z8ays-importlib-metadata-8.7.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/5r792iwci69gfmjgy2xdq9n5a2a9y3gb-index-x86_64-linux' from 'https://vibenix.cachix.org'...
copying path '/nix/store/r60202mjd9fp7k89fnqxxn00rvf9m2hy-iniconfig-2.1.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/aq5b44b37zp5dfwz5330pxqm699gs4g3-isl-0.20' from 'https://cache.nixos.org'...
copying path '/nix/store/045saa4khs89hwn607qzm90flvb6snis-jaraco-classes-3.4.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/yg1rza690hqxqhp89v601838lg270vix-jaraco-context-6.0.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/87fck6hm17chxjq7badb11mq036zbyv9-coreutils-9.7' from 'https://cache.nixos.org'...
copying path '/nix/store/154hkcw6lzj0i2wnz0q01h8898jii5mw-jaraco-functools-4.2.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/jqc80d13ikbicwyxnz4lbmh30ah4a0vz-jeepney-0.9.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/96mqmcl32fjzb0zv9qdy9vpd2vcdqlaq-jinja2-3.1.6' from 'https://vibenix.cachix.org'...
copying path '/nix/store/pn5mw7yrgkhsnbhxjv9mxgka0xgh8ljg-jiter-0.10.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/0gvxd6zy4krr24qpz6pj922wkklhm5ia-joblib-1.5.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/9r8xfhfxbabvqh0c63fqg9ryd8xcf4d3-jsonschema-specifications-2025.4.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/lxwz7p71fayz9j2if91w7v83jk4zwnyp-keyrings-alt-5.0.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/bqpjpzxr0x2pdgxydxp3zh7npkx77nlf-lcms2-2.17' from 'https://cache.nixos.org'...
copying path '/nix/store/jgxvk139zdfxi1wgdi9pjj1yhhgwvrff-lerc-4.0.0' from 'https://cache.nixos.org'...
copying path '/nix/store/psjc7gv2314bxncywpvsg76gvbk2dn00-libXau-1.0.12' from 'https://cache.nixos.org'...
copying path '/nix/store/hx0kbryivbs7qccnvpmr17y6x818dhxc-libXdmcp-1.1.5' from 'https://cache.nixos.org'...
copying path '/nix/store/amy9kqbm05wv18z5z66a3kprc2ccp390-libdeflate-1.23' from 'https://cache.nixos.org'...
copying path '/nix/store/5hnl9a0hzm249a5cfvfif4ynbdmlx94l-libimagequant-4.3.4' from 'https://cache.nixos.org'...
copying path '/nix/store/9f6bvnw1hxy79shw6lva854ck3cmi43j-libjpeg-turbo-3.0.4' from 'https://cache.nixos.org'...
copying path '/nix/store/7h0sard22wnbz0jyz07w8y9y0fcs795r-diffutils-3.12' from 'https://cache.nixos.org'...
copying path '/nix/store/7y59hzi3svdj1xjddjn2k7km96pifcyl-findutils-4.10.0' from 'https://cache.nixos.org'...
copying path '/nix/store/y3x4m9wy3a731ibvgvs194j10znc392m-libpng-apng-1.6.46' from 'https://cache.nixos.org'...
copying path '/nix/store/ybd0aamz6dwc51x1ab62b7qycccqb0z0-libselinux-3.8.1' from 'https://cache.nixos.org'...
copying path '/nix/store/qizipyz9y17nr4w4gmxvwd3x4k0bp2rh-libxcrypt-4.4.38' from 'https://cache.nixos.org'...
copying path '/nix/store/qn01pv62sbpzbsy0a6m0q23syrmkk3bv-libxcb-1.17.0' from 'https://cache.nixos.org'...
copying path '/nix/store/sh1rrkag3x04p0gs80723iwfdwlysxf8-libvmaf-3.0.0' from 'https://cache.nixos.org'...
copying path '/nix/store/cyayc07z8d9h6i5ndadbljwlc9wcrf0k-libyaml-0.2.5' from 'https://cache.nixos.org'...
copying path '/nix/store/hxrjrzngydk24ah8b5n8cl777n39y08b-linux-headers-6.12.7' from 'https://cache.nixos.org'...
copying path '/nix/store/0g8h2g6wa8pwxg7bxh0mv8bhp4shpxam-linkify-it-py-2.0.3' from 'https://vibenix.cachix.org'...
copying path '/nix/store/42nhh7d9j9p1wmlzihqml4rpiryqgd08-logfire-api-3.22.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/d9clanc984j3lx1rip0lyhi7c0p1k19q-loguru-0.7.3' from 'https://vibenix.cachix.org'...
copying path '/nix/store/39zbg3zrp77ima6ih51ihzlzmm1yj5vh-libyuv-1908' from 'https://cache.nixos.org'...
copying path '/nix/store/1jj2lq1kzys105rqq5n1a2r4v59arz43-mailcap-2.1.54' from 'https://cache.nixos.org'...
copying path '/nix/store/w9i4n036vi7dyc7n8y4yc988h2ynpmfd-magentic-0.40.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/5i64l61if26whc3r9lzq6ycxpd2xnlgm-freetype-2.13.3' from 'https://cache.nixos.org'...
copying path '/nix/store/zr0hlr1hybxs08j44l38b8na1m8xpkms-libwebp-1.5.0' from 'https://cache.nixos.org'...
copying path '/nix/store/8gbhq49935jx632fl02vhz1d42v6qa1s-mdit-py-plugins-0.4.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/3y1f22xcs2nqllz002h4amyx8n4x84qf-mdurl-0.1.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/mbp6x1r4wws70jh84czs9fv2jss87jiv-markupsafe-3.0.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/ramdzynrf7qb7yhvlmalj6rwikh8ibq9-more-itertools-10.7.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/9nn8vbf2n55zkb7dh6ldxckbis3pkh30-libaom-3.11.0' from 'https://cache.nixos.org'...
copying path '/nix/store/029cprg174i7c4gvn1lwmnm4vdl6k8df-libvmaf-3.0.0-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/wyf93cvh25b2xg82mkjcpmwgcspk0ggr-mpdecimal-4.0.0' from 'https://cache.nixos.org'...
copying path '/nix/store/n52k1dccv0mipz1s4gkk45x64cmmcvrf-mpfr-4.2.2' from 'https://cache.nixos.org'...
copying path '/nix/store/l26cy7r5prl2614bnn8l7wrnxg7allz8-mpmath-1.3.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/hafn02z8ac6sb6bhyh96w30vxqpmfpzv-multidict-6.6.3' from 'https://vibenix.cachix.org'...
copying path '/nix/store/93p8lzm2pajznwjanciiq3zggqndykyy-ninja-1.12.1' from 'https://cache.nixos.org'...
copying path '/nix/store/sxwsvx77nzml6brk0ad7j35ja72482az-nix-2.28.3-man' from 'https://cache.nixos.org'...
copying path '/nix/store/i48zw14qnz1z9ky9yyw803pr9bxiwhc4-nix-index-0.1.8' from 'https://cache.nixos.org'...
copying path '/nix/store/6fv8ayzjvgyl3rdhxp924zdhwvhz2iq6-nss-cacert-3.111' from 'https://cache.nixos.org'...
copying path '/nix/store/qzk9gj8jdl37xqiccxa98g442byp3rrq-libtiff-4.7.0' from 'https://cache.nixos.org'...
copying path '/nix/store/mb407pssv7zc7pfb4d910k6fshfagm6j-libmpc-1.3.1' from 'https://cache.nixos.org'...
copying path '/nix/store/82n465240j5a8ap7c60gqy3a6kwqv1rs-numactl-2.0.18' from 'https://cache.nixos.org'...
copying path '/nix/store/z8rlklqfzxq7azbzyp30938x7wh5zf3c-oniguruma-6.9.10-lib' from 'https://cache.nixos.org'...
copying path '/nix/store/zcmiz1a7wic7qyimhj9bb1k9iryafb0s-openblas-0.3.29' from 'https://cache.nixos.org'...
copying path '/nix/store/r25srliigrrv5q3n7y8ms6z10spvjcd9-glibc-2.40-66-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/jj5bpbmlv2kmvmgp9ncz48z1n60cnwq6-packaging-25.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/x0kaspzb5jqvgp357bj27z6iq24ximfg-patch-2.7.6' from 'https://cache.nixos.org'...
copying path '/nix/store/2jc1jmzis19adawjwhl8qhdvh7vlbk0q-patchelf-0.15.0' from 'https://cache.nixos.org'...
copying path '/nix/store/gwxwbrzzlvw1pr2d72ia9hnjpjh4amip-nix-2.28.3' from 'https://cache.nixos.org'...
copying path '/nix/store/1079gwyr9mrzrr5sk4fgdzv872pcp1lv-platformdirs-4.3.8' from 'https://vibenix.cachix.org'...
copying path '/nix/store/cpagn52jr616azfh6g50xiymwsma6pia-pluggy-1.6.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/xnaqq0zhh7nfsnd9c6k9s2x9yqx0ii0k-propcache-0.3.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/5gk4cmjyygwdgx1my78lrz9w7hvzwwnf-openjpeg-2.5.2' from 'https://cache.nixos.org'...
copying path '/nix/store/pi7vpdqikh160rj4vyfh58x0z2hksgj7-libaom-3.11.0-bin' from 'https://cache.nixos.org'...
copying path '/nix/store/88ma4lbybcpdg0z8745nw9mvj5anb7mq-protobuf-30.2' from 'https://cache.nixos.org'...
copying path '/nix/store/fy2v599vrnar1r68vna537h0hhqsjlwf-protobuf-6.31.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/lwkwn26kkgzvhkh7bcm1ijpxiy6x9rpi-pycparser-2.22' from 'https://vibenix.cachix.org'...
copying path '/nix/store/s1z54qfxvbwjvkzh7d1jfkcjcniq30n3-pydantic-2.11.7' from 'https://vibenix.cachix.org'...
copying path '/nix/store/sdqzcyfy52y0vf10nfsxy3mhv9b2vmkv-jq-1.7.1' from 'https://cache.nixos.org'...
copying path '/nix/store/hhfm5fkvb1alg1np5a69m2qlcjqhr062-binutils-wrapper-2.44' from 'https://cache.nixos.org'...
copying path '/nix/store/9ds850ifd4jwcccpp3v14818kk74ldf2-gcc-14.2.1.20250322' from 'https://cache.nixos.org'...
copying path '/nix/store/0vyyjdmi03my0z67h7s77sssybfvqx18-pydantic-core-2.33.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/knncjnfx5lniwxvf6d8gwny1qdfmfk8r-pydantic-settings-2.10.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/dlryxzgbpd52r2ql3i0zb946dbxl1cdq-python3.12-grpcio-1.71.0' from 'https://cache.nixos.org'...
copying path '/nix/store/2k33j90d2arc2cywzk7ax530m28miqh4-pyyaml-6.0.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/qz7hvb0ljkq06gsz2cpiy8v32fa2k110-re2-2024-07-02' from 'https://cache.nixos.org'...
copying path '/nix/store/pz4w39j977dgfvdh6r7q5wka9wknn3i5-blas-3' from 'https://cache.nixos.org'...
copying path '/nix/store/87wzgzb3yrn4kbw2b1hslhmk11drzjgi-lapack-3' from 'https://cache.nixos.org'...
copying path '/nix/store/z88zb5wamza6irc3lkz6aj52ga3q5sl3-libaom-3.11.0-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/n9ch6ggimi6ri5vx62mqmzgrrkb3qfwg-jq-1.7.1-bin' from 'https://cache.nixos.org'...
copying path '/nix/store/y4jd65pvgmbnfl81xp9slh8r82yn5vhn-python3.12-torch-2.7.0-lib' from 'https://cache.nixos.org'...
copying path '/nix/store/971mpk4nqhqcxggx0yi60w9y1ya570bj-readline-8.2p13' from 'https://cache.nixos.org'...
copying path '/nix/store/jq5l1bf0jf1d8kajz2ha6a26f4mvmh7c-referencing-0.36.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/jwpab2zvxii91x0vlly7ydzwfls3k5mn-regex-2024.11.6' from 'https://vibenix.cachix.org'...
copying path '/nix/store/b6hvzz9inq1v51029xvdqbc9aldnr0dr-requests-2.32.4' from 'https://vibenix.cachix.org'...
copying path '/nix/store/7zyldkwr9w9ajh62n38kys55fi0v5jxc-rich-14.0.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/b9a4bfrb23fv03ysmqwybqcsc7iw97jf-ripgrep-14.1.1' from 'https://cache.nixos.org'...
copying path '/nix/store/kgqarpnisknp1s2vmi8c9bbgi4ylr0vq-rpds-py-0.26.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/w006sa7ak2s8gl2g5y8pi8baksx3i5hw-scikit-learn-1.7.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/j36kxcvkp6k7mna5qxx5k9nv3w2hi5ba-scipy-1.16.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/1sbbvam2ph64bl7jywgvndg3a5zs4k03-secretstorage-3.3.3' from 'https://vibenix.cachix.org'...
copying path '/nix/store/4mdwgy9a400f9lwm0waz0xbnw4pgas1w-smmap-5.0.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/rsybdn3hqhggpdwm17xn72pbv40y3b1w-setuptools-80.9.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/1q9lw4r2mbap8rsr8cja46nap6wvrw2p-bash-interactive-5.2p37' from 'https://cache.nixos.org'...
copying path '/nix/store/lf3qlmx56gb8zmzz6jy3cixinikvs15f-bc-1.08.1' from 'https://cache.nixos.org'...
copying path '/nix/store/0bi2jvyklizz9jxnjpcrp8nq5vi7fzpb-sniffio-1.3.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/r5gwyr8bfw19xg9qa58g6l8rikmgrfb7-soupsieve-2.7' from 'https://vibenix.cachix.org'...
copying path '/nix/store/nh3rw4hvwwgxdk3xpyvmvsp5axr3szf1-textual-3.5.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/0vksb7zq0j6m5w5zgqbzxs5ppa11jjh2-blas-3-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/zdy0a0kgc2fjfvdp8021q2simvs85pah-threadpoolctl-3.6.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/wxwi52s9i2lg2xhwzswhv41pih8hpha3-tiktoken-0.9.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/j34r3f6fd9w3x7ya764xbnd096gr7nhx-tokenizers-0.21.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/alrjbv8p42dc0gy3fd89mzfyc0blf35z-typing-extensions-4.14.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/y6qv0jryh86dd9qcdr9mkzk5m5dqddzc-typing-inspection-0.4.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/qyihkwbhd70ynz380whj3bsxk1d2lyc4-tzdata-2025b' from 'https://cache.nixos.org'...
copying path '/nix/store/8g2iaf60wc1cjifz8g67r42sq5a98x5p-uc-micro-py-1.0.3' from 'https://vibenix.cachix.org'...
copying path '/nix/store/2jvh1rys6qn4nkafrhyzzjvz5r9na5ri-lapack-3-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/lmc7x75jvrca79fc2r2j1frmklzvh04h-update-autotools-gnu-config-scripts-hook' from 'https://cache.nixos.org'...
copying path '/nix/store/8g5phs9nlrlrnmfk9npapi2pfyirq236-urllib3-2.5.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/r03ly1w54924k8fag1dhjl3yrllj6czd-util-linux-minimal-2.41-lib' from 'https://cache.nixos.org'...
copying path '/nix/store/98zamhd8d0jq3skqwz28dlgph94mrqir-xz-5.8.1-bin' from 'https://cache.nixos.org'...
copying path '/nix/store/81pn8jsbn26hwvm0hasjr8sdg17xy3fh-zipp-3.23.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/q2qjmy5skajgs01fgc6kzkn8klfpp3p7-yarl-1.20.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/k8asbblj2xn748rslklcll68b4ygh2am-zlib-ng-2.2.4' from 'https://cache.nixos.org'...
copying path '/nix/store/z3ayhjslz72ldiwrv3mn5n7rs96p2g8a-fzf-0.62.0' from 'https://cache.nixos.org'...
copying path '/nix/store/bkpj51fz88rbyjd60i6lrp0xdax1b24g-glib-2.84.1' from 'https://cache.nixos.org'...
copying path '/nix/store/8w718rm43x7z73xhw9d6vh8s4snrq67h-python3-3.12.10' from 'https://cache.nixos.org'...
copying path '/nix/store/fwdymc6gxjiwxz54jac0nk97jn8hmavj-git-minimal-2.49.0' from 'https://cache.nixos.org'...
copying path '/nix/store/8bsl1vrab2pwj8ilpzfn2iwzbrps8jgq-harfbuzz-10.2.0' from 'https://cache.nixos.org'...
copying path '/nix/store/cdr8agx3ffy086z30wiysnclrc5m8x69-gdk-pixbuf-2.42.12' from 'https://cache.nixos.org'...
copying path '/nix/store/808xr68djvk0x3r754mi81yvm2yr9ppq-libavif-1.2.1' from 'https://cache.nixos.org'...
copying path '/nix/store/sqlg8w7j330fvjxn956i5jkq91nk748r-libraqm-0.10.2' from 'https://cache.nixos.org'...
copying path '/nix/store/x3vwgqsbidc45d3363z2yvzk1h55anjj-nix-index-database' from 'https://vibenix.cachix.org'...
copying path '/nix/store/k01pnvls1v00i7w5rmzcap79db1yhwwk-nix-index-with-full-db-0.1.8' from 'https://vibenix.cachix.org'...
copying path '/nix/store/0fsnicvfpf55nkza12cjnad0w84d6ba7-gcc-wrapper-14.2.1.20250322' from 'https://cache.nixos.org'...
copying path '/nix/store/nivcx63drxqzm6pic6vm2wbkxl368w83-stdenv-linux' from 'https://cache.nixos.org'...
copying path '/nix/store/9j2875z04vxc34q8pz01ldqjhqin3css-charset-normalizer-3.4.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/ry4kqysxhdnp2kfwq8n0wkvcikndwg7v-coloredlogs-15.0.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/wg4dzy4lg2j8c768cb57vcypl23wjg89-huggingface-hub-0.33.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/qky9wwswfplx5ymvlvg0vpdlzd21j47g-keyring-25.6.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/60jk7d4pddjjx4k0gc3gk5qq03x865qs-magika-0.6.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/2wwx9i6py4kbibq3wi54ffxfil2g6qzf-humanfriendly-10.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/45yqflc8raykvykq4d3b0qsgnmvlrl3s-litellm-1.74.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/cg72vq36pzc2rikxp4kbgrv5042vi1rm-numpy-2.3.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/w1hss92azmgh16ga26xni8sgcmx7f7y3-markdown-it-py-3.0.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/84ly44vs2jm8127flmr0avynzajjpz3c-httpx-0.28.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/2r57wks3zhlll9v99a9qa9sazq1idd54-jsonschema-4.24.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/m41pgmnpbfqbq560pln9c85pjxzgh6cq-ddgr-2.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/9zrai6nk7g73zx6i9cfwdzdaripbbg8s-distro-1.9.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/wkl534vq4c68nixkghb40nj2lj6cnsyq-filetype-1.2.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/fikws91k32ymb2ksdvaazm68j0aaz7md-onnxruntime-1.22.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/9x13r5v5x6ahv1ykfnx4yhwr2ccxhd8h-openai-1.93.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/0q5p8ljp776g4jzz4y6df75f5ckf8q2l-pybind11-setup-hook' from 'https://cache.nixos.org'...
copying path '/nix/store/jy7c45g6ycbidyqjzqk9z6wm13qpnzgn-pygments-2.19.2' from 'https://vibenix.cachix.org'...
copying path '/nix/store/q77wzbxvv0dw72599xa1nbgi9yybcw79-pytest-8.4.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/lvdgcm3adxf8715h3la0s0y55fnaw4jd-python-dotenv-1.1.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/sh5ppi942j3skshdbg5mpdji2n0x91nf-python3.12-absl-py-2.2.1' from 'https://cache.nixos.org'...
copying path '/nix/store/blsxhz45in0asxiq6frv665aq8vzvnx7-python3.12-attrs-25.3.0' from 'https://cache.nixos.org'...
copying path '/nix/store/y85rrr4sx62x27fka04sncbbd7g8g59j-python3.12-certifi-2025.01.31' from 'https://cache.nixos.org'...
copying path '/nix/store/azbbrwb8glahagaqqsaa4akv20903lm3-python3.12-charset-normalizer-3.4.1' from 'https://cache.nixos.org'...
copying path '/nix/store/rivxng6n93azs8pdzw43vz8alk5vxyj0-python3.12-expecttest-0.2.1' from 'https://cache.nixos.org'...
copying path '/nix/store/j3al9fa175ksfwnl9bmmzc0f2vwc62v8-python3.12-fb-re2-1.0.7' from 'https://cache.nixos.org'...
copying path '/nix/store/s6x7g6258l9adjfb3cps7l4lcc1xwx60-python3.12-filelock-3.18.0' from 'https://cache.nixos.org'...
copying path '/nix/store/2xb3wp0g97b8ss29z30vx77hazj71yvw-python3.12-fsspec-2025.3.1' from 'https://cache.nixos.org'...
copying path '/nix/store/n0v27hx3n5sc51z833jbmkgi4sm086qg-python3.12-idna-3.10' from 'https://cache.nixos.org'...
copying path '/nix/store/6nsicakxgz51c7r2qpaccl0ghlg5g27c-python3.12-lz4-4.4.3' from 'https://cache.nixos.org'...
copying path '/nix/store/s2aybac1kppf97sqv9x0zk4v7b8v1j2j-python3.12-markdown-3.7' from 'https://cache.nixos.org'...
copying path '/nix/store/x7nyn4jv80amafdya2xgm1a07m0hinap-python3.12-markupsafe-3.0.2' from 'https://cache.nixos.org'...
copying path '/nix/store/x03l9qdgi46jsbk8h7d0cc2zrabiqa11-python3.12-mpmath-1.3.0' from 'https://cache.nixos.org'...
copying path '/nix/store/417i818f9mgfn7dwvp1041xqrb0plxds-python3.12-networkx-3.4.2' from 'https://cache.nixos.org'...
copying path '/nix/store/6bbj89a47jis86iawfaqpi3w4av9w3bf-python3.12-ninja-1.12.1' from 'https://cache.nixos.org'...
copying path '/nix/store/gcjg4a0nlrwfd0s4gs35cndspw3l94sc-python3.12-numpy-2.2.5' from 'https://cache.nixos.org'...
copying path '/nix/store/crf6plx9zazgp46qgix129sc6dhy48sk-mercurial-6.9.4' from 'https://cache.nixos.org'...
copying path '/nix/store/2c08h1gknkfgi3nizd4f9az3b0j4prvx-python3.12-packaging-24.2' from 'https://cache.nixos.org'...
copying path '/nix/store/wmjdijhvbxz83rrgwrqfgpxsv0k2bmqr-python3.12-pillow-11.2.1' from 'https://cache.nixos.org'...
copying path '/nix/store/5zw4h7r99cbnybl3vljcr7w8qg7q3brn-python3.12-protobuf-6.30.2' from 'https://cache.nixos.org'...
copying path '/nix/store/ny3v2j2cxx3flyd2gfbvgkcb0v84wf67-python3.12-psutil-7.0.0' from 'https://cache.nixos.org'...
copying path '/nix/store/csxa2mxxalv24kqn4x60ih3hbwv0fj5k-python3.12-pybind11-2.13.6' from 'https://cache.nixos.org'...
copying path '/nix/store/31639aa7g91847pds9bs1mb3gadw8wgy-python3.12-pyyaml-6.0.2' from 'https://cache.nixos.org'...
copying path '/nix/store/vc4iibpkijp2xdj6ykysjqi51jvrxjlv-python3.12-regex-2024.11.6' from 'https://cache.nixos.org'...
copying path '/nix/store/3ipcrk3apw4s10snc1c7wxsg5kb4rwgg-python3.12-safetensors-0.5.2' from 'https://cache.nixos.org'...
copying path '/nix/store/mzkzsbrp7vy4sx09ggqsa8i5v4gp50nc-python3.12-setuptools-78.1.0' from 'https://cache.nixos.org'...
copying path '/nix/store/kn0svpfjpbx8zl1rp0f0rzh2ray0c2xs-python3.12-jinja2-3.1.6' from 'https://cache.nixos.org'...
copying path '/nix/store/d4l0fhhf2l62lqylrszcd1iqxc2cfa7a-python3.12-six-1.17.0' from 'https://cache.nixos.org'...
copying path '/nix/store/r9isfgb0dgval5gfwdcfz7r9993jhrvs-python3.12-sortedcontainers-2.4.0' from 'https://cache.nixos.org'...
copying path '/nix/store/1d68zi3fxx54xzkdxwhqm8w82d483gd2-python3.12-sympy-1.13.3' from 'https://cache.nixos.org'...
copying path '/nix/store/ci633fnarbi8m6zm6swbl3bx2wx0b8w1-python3.12-joblib-1.4.2' from 'https://cache.nixos.org'...
copying path '/nix/store/gz9b9b9a5cmcckrv23rw5y7fr6s9pahs-python3.12-grpcio-1.71.0-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/v7yaxv2yvrpnlsak367pg37bxgfgnmlx-python3.12-tensorboard-data-server-0.7.2' from 'https://cache.nixos.org'...
copying path '/nix/store/1rlv1g1ppd6j53i2ybfhvphn5dqpsq42-python3.12-threadpoolctl-3.6.0' from 'https://cache.nixos.org'...
copying path '/nix/store/k0l12lai016cl758145rzg8gghhmsxls-python3.12-torch-2.7.0' from 'https://cache.nixos.org'...
copying path '/nix/store/y5fslgbwfjvkczl1g3ynkd0pp95j3rwg-python3.12-tqdm-4.67.1' from 'https://cache.nixos.org'...
copying path '/nix/store/vdcdlaskq5lgynsz10fmvsz29nacqpvh-python3.12-types-dataclasses-0.6.6' from 'https://cache.nixos.org'...
copying path '/nix/store/d52qvak789g813n4nb8ghlsvi2r2yifh-python3.12-typing-extensions-4.13.2' from 'https://cache.nixos.org'...
copying path '/nix/store/lf8ilk72n59c1yg7zbwvqd5mimlqzpqk-python3.12-urllib3-2.3.0' from 'https://cache.nixos.org'...
copying path '/nix/store/fsqcyijhpyfzswh86vykm0mb2yv4dmyl-python3.12-werkzeug-3.1.3' from 'https://cache.nixos.org'...
copying path '/nix/store/q97njnvfh1mh4n6avya43cdd69145q2r-python3.12-hypothesis-6.130.12' from 'https://cache.nixos.org'...
copying path '/nix/store/454j9j88k1yagjvh28s98iiq71igzxjb-python3.12-wheel-0.45.1' from 'https://cache.nixos.org'...
copying path '/nix/store/l1iijhnkywlsjp5jcdycxh5jzai4pi5y-python3.12-triton-3.1.0' from 'https://cache.nixos.org'...
copying path '/nix/store/2bw0hfak6xmal7zczw76yinb886pbz5i-sympy-1.14.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/fn6kbdxjj15bkcjxnracj06w054jr0mp-tqdm-4.67.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/s7f2zkrp6c3wy7d4w63637lwc8yhrcjq-nurl-0.3.13' from 'https://cache.nixos.org'...
copying path '/nix/store/76kdqwy5nfky46k9zc8qndihszsi926y-vibenix-0.1.0' from 'https://vibenix.cachix.org'...
copying path '/nix/store/zb967sb47ly1macfpwskwgb8z8x1s8jv-wheel-0.45.1' from 'https://vibenix.cachix.org'...
copying path '/nix/store/8f9zfpbmybfl09aq4a9nzp8a9gwgqjbf-python3.12-scipy-1.15.3' from 'https://cache.nixos.org'...
copying path '/nix/store/0lln9m37mw7cjdf02krfpiwd4clwdlwl-python3.12-requests-2.32.3' from 'https://cache.nixos.org'...
copying path '/nix/store/59s412svc1vs75sgi3s52xcsddjb6v1a-python3.12-astunparse-1.6.3' from 'https://cache.nixos.org'...
copying path '/nix/store/wxbrpwjzj3di314ckjnsnkvp1q3z784b-python3.12-tensorboard-2.19.0' from 'https://cache.nixos.org'...
copying path '/nix/store/gfwiwpwbgc10i3lbkbr5gw71lpxcqsm6-python3.12-huggingface-hub-0.31.4' from 'https://cache.nixos.org'...
copying path '/nix/store/1vzf84rgnimwnhgxl4gnvb9slsj0rrl6-python3.12-tokenizers-0.21.1' from 'https://cache.nixos.org'...
copying path '/nix/store/y7wh9xrxi9g38kvxnaasf95w4zky6pvj-python3.12-transformers-4.52.4' from 'https://cache.nixos.org'...
copying path '/nix/store/cyb0znfs57mi65wdw49zhai1lf5xpdma-python3.12-scikit-learn-1.6.1' from 'https://cache.nixos.org'...
copying path '/nix/store/g6raadfrw1ggpn6adab5yb16rvv0cnhw-python3.12-torch-2.7.0-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/xlfds10if9hn0d81jisdayvaxbxsp8gx-vibenix-dev-deps' from 'https://vibenix.cachix.org'...
copying path '/nix/store/i66la8j37ngb0hppcr5mpxhc9f3cm379-python3.12-sentence-transformers-4.1.0' from 'https://cache.nixos.org'...
copying path '/nix/store/911rqqfh963pk375pkyr039w5v60cgb6-nix-shell-env' from 'https://vibenix.cachix.org'...
this path will be fetched (0.10 MiB download, 0.10 MiB unpacked):
  /nix/store/s3zz5nasd7qr894a8jrp6fy52pdrz2f1-bash-interactive-5.2p37-man
copying path '/nix/store/s3zz5nasd7qr894a8jrp6fy52pdrz2f1-bash-interactive-5.2p37-man' from 'https://cache.nixos.org'...
[0;93m2025-07-14 20:09:06.168268317 [W:onnxruntime:Default, onnxruntime_pybind_state.cc:2418 CreateInferencePybindStateModule] Init provider bridge failed.[m
20:09:06 | INFO | Keyring backend: PlaintextKeyring
20:09:06 | INFO | Using secure keyring backend: PlaintextKeyring
20:09:06 | INFO | Loaded saved configuration: claude-3-5-haiku-20241022 from anthropic
20:09:06 | INFO | Using saved model configuration
20:09:06 | INFO | 
ðŸŽ¯ coordinator: Welcome to vibenix!
20:09:06 | INFO | â³ Obtaining project fetcher from the provided URL
20:09:08 | INFO | â³ Fetching project information from https://github.com/adityachandelgit/BookLore
20:09:09 | INFO | 
ðŸŽ¯ coordinator: I found the project information. Let me analyze it.
20:09:09 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:09:10 | INFO | ðŸ¤– model: 
Based on the GitHub page, here's a summary for building the BookLore project:

1. Build Tool:
   - Docker Compose is the primary recommended method for building and deploying the project

2. Project Dependencies:
   - Docker
   - Docker Compose
   - MariaDB (included in the Docker Compose configuration)

3. Build Information:
   - The project consists of two main services:
     a) booklore (main application)
     b) mariadb (database)
   
   - Key build steps:
     1. Create a docker-compose.yml file
     2. Configure environment variables
     3. Set up volume mappings
     4. Run `docker compose up -d`

4. Build Configuration Notes:
   - Image: ghcr.io/adityachandelgit/booklore-app:latest
   - Default port: 6060
   - Requires setting:
     * Database credentials
     * User IDs (PUID/PGID)
     * Timezone
     * Volume paths for data and books

5. Tech Stack:
   - Java (49.7%)
   - TypeScript (31.8%)
   - HTML (16.2%)

Nix-specific packaging would involve creating a `default.nix` or `shell.nix` that captures the Docker and Docker Compose deployment process, ensuring all dependencies are correctly packaged and the application can be built reproducibly.20:09:16 | INFO | â³ Setting up a temporary Nix flake for packaging
20:09:16 | INFO | Creating flake at /home/runner/work/_temp/nix-shell.LDDW8D/tmplrlf_hkc from reference directory /home/runner/work/vibenix/vibenix/src/vibenix/template
20:09:17 | INFO | 
ðŸŽ¯ coordinator: Working on temporary flake at /home/runner/work/_temp/nix-shell.LDDW8D/tmplrlf_hkc
20:09:17 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:09:18 | INFO | 
ðŸ¤– model: TemplateType.GENERIC
20:09:18 | INFO | 
ðŸŽ¯ coordinator: Selected template: package
20:09:18 | INFO | 
ðŸŽ¯ coordinator: Setting up the src attribute in the template...
20:09:18 | INFO | Filled template: 
{ lib
, stdenv
, fetchFromGitHub
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
  owner = "adityachandelgit";
  repo = "BookLore";
  rev = "v$0.33.0";
  hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
};
}
20:09:25 | INFO | â³ Testing the initial build...
20:09:26 | INFO | Building derivation outputs: /nix/store/b2h1b5c0mkx9agahilcsi0rcykrilki4-source.drv^*
20:09:26 | INFO | Building derivation outputs: /nix/store/n93nkn2ks7g4agzch5qpp5c3j6hmprs4-BookLore-0.33.0.drv^*
20:09:26 | INFO | 
ðŸŽ¯ coordinator: Iteration 1:
20:09:26 | INFO | 
ðŸŽ¯ coordinator: ```
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
no Makefile or custom buildPhase, doing nothing
Running phase: installPhase
@nix { "action": "setPhase", "phase": "installPhase" }
no Makefile or custom installPhase, doing nothing
Running phase: fixupPhase
@nix { "action": "setPhase", "phase": "fixupPhase" }

```
20:09:26 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:09:26 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
  owner = "adityachandelgit";
  repo = "BookLore";
  rev = "v$0.33.0";
  hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
};
}

20:09:26 | INFO | 
ðŸŽ¯ coordinator: error:
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
no Makefile or custom buildPhase, doing nothing
Running phase: installPhase
@nix { "action": "setPhase", "phase": "installPhase" }
no Makefile or custom installPhase, doing nothing
Running phase: fixupPhase
@nix { "action": "setPhase", "phase": "fixupPhase" }


20:09:26 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:09:27 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 2355
Final Completion Tokens: 331
Final Total Tokens: 2686
Total Stream Cost: $0.003208
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 872
Final Completion Tokens: 33
Final Total Tokens: 905
Total Stream Cost: $0.000830
------------------------------------------

Let me investigate the project and help you package it in Nix. First, I'll verify the project's contents and structure.20:09:29 | INFO | 
ðŸ¤– model: total 804K
dr-xr-xr-x   8 root root   4.0K Jan  1  1970 .
drwxrwxr-t 416 root nixbld 708K Jul 14 20:09 ..
dr-xr-xr-x   3 root root   4.0K Jan  1  1970 .github
-r--r--r--   1 root root    506 Jan  1  1970 .gitignore
-r--r--r--   1 root root   3.9K Jan  1  1970 CONTRIBUTING.md
-r--r--r--   1 root root   1.2K Jan  1  1970 Dockerfile
-r--r--r--   1 root root    35K Jan  1  1970 LICENSE
-r--r--r--   1 root root   9.7K Jan  1  1970 README.md
dr-xr-xr-x   3 root root   4.0K Jan  1  1970 assets
dr-xr-xr-x   4 root root   4.0K Jan  1  1970 booklore-api
dr-xr-xr-x   4 root root   4.0K Jan  1  1970 booklore-ui
dr-xr-xr-x   2 root root   4.0K Jan  1  1970 docs
dr-xr-xr-x   2 root root   4.0K Jan  1  1970 example-docker
-r--r--r--   1 root root   2.0K Jan  1  1970 nginx.conf

20:09:30 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 3357
Final Completion Tokens: 86
Final Total Tokens: 3443
Total Stream Cost: $0.003030
------------------------------------------

ðŸ“ž Function called: project_list_directory_contents with path:  .
The code you provided has an error in the `rev` attribute. The `$` is incorrectly placed. For GitHub releases, the revision should be a simple string without interpolation.

Here's the corrected Nix code:

```nix
{ lib
, stdenv
, fetchFromGitHub
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };
}
```

The key changes are:
1. Fixed the `rev` attribute by using `"v${version}"` instead of `"v$0.33.0"`
2. Interpolated the version correctly using `${version}`

This correction ensures that the GitHub release tag is correctly referenced, matching the format "v0.33.0" for the given version.

The minimal change addresses the syntax error in the `rev` attribute while keeping the rest of the code intact. The build phases will now complete without the previous error.

Note: Since this is a Java/TypeScript project with Docker Compose as the primary deployment method, you might need additional steps for a proper Nix derivation, such as defining build and install phases. However, the question asked only for fixing the specific error in the provided code.20:09:39 | INFO | â³ Iteration 1: Testing fix attempt 1 of 40...
20:09:39 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:09:39 | INFO | Building derivation outputs: /nix/store/nkjix213y45swf5daaf5522xk9nv0bdc-BookLore-0.33.0.drv^*
20:09:40 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:09:40 | INFO | 
ðŸŽ¯ coordinator: Iteration 1 made progress...
20:09:40 | INFO | 
ðŸŽ¯ coordinator: Iteration 2:
20:09:40 | INFO | 
ðŸŽ¯ coordinator: ```
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
no Makefile or custom buildPhase, doing nothing
Running phase: installPhase
@nix { "action": "setPhase", "phase": "installPhase" }
no Makefile or custom installPhase, doing nothing
Running phase: fixupPhase
@nix { "action": "setPhase", "phase": "fixupPhase" }

```
20:09:40 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:09:40 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };
}

20:09:40 | INFO | 
ðŸŽ¯ coordinator: error:
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
no Makefile or custom buildPhase, doing nothing
Running phase: installPhase
@nix { "action": "setPhase", "phase": "installPhase" }
no Makefile or custom installPhase, doing nothing
Running phase: fixupPhase
@nix { "action": "setPhase", "phase": "fixupPhase" }


20:09:40 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:09:41 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 3858
Final Completion Tokens: 379
Final Total Tokens: 4237
Total Stream Cost: $0.004602
------------------------------------------

I'll analyze the situation carefully. Given the project details and the error, this looks like a Java/TypeScript web application that uses Docker Compose. For Nix packaging, we'll need to explicitly define build and install phases.

Let me first verify the project directory contents:20:09:43 | INFO | 
ðŸ¤– model: total 804K
dr-xr-xr-x   8 root root   4.0K Jan  1  1970 .
drwxrwxr-t 417 root nixbld 708K Jul 14 20:09 ..
dr-xr-xr-x   3 root root   4.0K Jan  1  1970 .github
-r--r--r--   1 root root    506 Jan  1  1970 .gitignore
-r--r--r--   1 root root   3.9K Jan  1  1970 CONTRIBUTING.md
-r--r--r--   1 root root   1.2K Jan  1  1970 Dockerfile
-r--r--r--   1 root root    35K Jan  1  1970 LICENSE
-r--r--r--   1 root root   9.7K Jan  1  1970 README.md
dr-xr-xr-x   3 root root   4.0K Jan  1  1970 assets
dr-xr-xr-x   4 root root   4.0K Jan  1  1970 booklore-api
dr-xr-xr-x   4 root root   4.0K Jan  1  1970 booklore-ui
dr-xr-xr-x   2 root root   4.0K Jan  1  1970 docs
dr-xr-xr-x   2 root root   4.0K Jan  1  1970 example-docker
-r--r--r--   1 root root   2.0K Jan  1  1970 nginx.conf

20:09:45 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 3355
Final Completion Tokens: 117
Final Total Tokens: 3472
Total Stream Cost: $0.003152
------------------------------------------

ðŸ“ž Function called: project_list_directory_contents with path:  .
The project looks like it has a Java backend (`booklore-api`) and a TypeScript frontend (`booklore-ui`). Let's read the Dockerfile to understand the build process:20:09:46 | INFO | 
ðŸ¤– model: # Stage 1: Build the Angular app
FROM node:22-alpine AS angular-build

WORKDIR /angular-app

COPY ./booklore-ui/package.json ./booklore-ui/package-lock.json ./
RUN npm install --force
COPY ./booklore-ui /angular-app/

RUN npm run build --configuration=production

# Stage 2: Build the Spring Boot app with Gradle
FROM gradle:8-jdk21-alpine AS springboot-build

WORKDIR /springboot-app

COPY ./booklore-api/build.gradle ./booklore-api/settings.gradle /springboot-app/
COPY ./booklore-api/src /springboot-app/src

# Inject version into application.yaml using yq
ARG APP_VERSION
RUN apk add --no-cache yq && \
    yq eval '.app.version = strenv(APP_VERSION)' -i /springboot-app/src/main/resources/application.yaml

RUN gradle clean build

# Stage 3: Final image
FROM eclipse-temurin:21-jre-alpine

RUN apk update && apk add nginx

COPY ./nginx.conf /etc/nginx/nginx.conf
COPY --from=angular-build /angular-app/dist/booklore/browser /usr/share/nginx/html
COPY --from=springboot-build /springboot-app/build/libs/booklore-api-0.0.1-SNAPSHOT.jar /app/app.jar

EXPOSE 8080 80

CMD /usr/sbin/nginx -g "daemon off;" & \
    java -jar /app/app.jar
20:09:47 | INFO | ðŸ¤– model: 

ðŸ“ž Function called: project_read_file_content with path:  Dockerfile

--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 3887
Final Completion Tokens: 103
Final Total Tokens: 3990
Total Stream Cost: $0.003522
------------------------------------------

From the Dockerfile, I can see it's a multi-stage build using:
1. Node.js for Angular frontend
2. Gradle for Spring Boot backend
3. Final image uses Eclipse Temurin JRE and Nginx

The key build steps are:
- Frontend: `npm run build`
- Backend: `gradle clean build`

Here's an updated Nix derivation that captures these build steps:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```

Key changes:
1. Added build dependencies: `nodejs`, `gradle`, `jdk21`, `nginx`
2. Implemented `buildPhase` to compile frontend and backend
3. Implemented `installPhase` to:
   - Copy frontend to nginx html directory
   - Copy backend JAR to lib directory
   - Create a startup script
4. Kept the original GitHub fetch details

The derivation now explicitly defines how to build and install the application, addressing the previous "doing nothing" error.20:09:59 | INFO | â³ Iteration 2: Testing fix attempt 2 of 40...
20:09:59 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:10:01 | INFO | Building derivation outputs: /nix/store/pff072l76s5fdcaj3ysn01q9qhmma6ib-BookLore-0.33.0.drv^*
20:17:23 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:17:23 | INFO | 
ðŸŽ¯ coordinator: Iteration 2 made progress...
20:17:23 | INFO | 
ðŸŽ¯ coordinator: Iteration 3:
20:17:23 | INFO | 
ðŸŽ¯ coordinator: ```
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```
20:17:23 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:17:23 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}

20:17:23 | INFO | 
ðŸŽ¯ coordinator: error:
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project


20:17:23 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:17:26 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 4399
Final Completion Tokens: 639
Final Total Tokens: 5038
Total Stream Cost: $0.006075
------------------------------------------

Based on the error message, the main issue is with Angular package dependencies. The project is using Angular 20.0.1, but some packages like `ngx-infinite-scroll` have peer dependencies that are incompatible with this version.

To resolve this, we'll modify the `buildPhase` to use `--force` and `--legacy-peer-deps` npm flags to override peer dependency conflicts:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force --legacy-peer-deps
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```

The key changes are:
1. Added `--force` to npm install to override npm warnings
2. Added `--legacy-peer-deps` to bypass strict peer dependency checks
3. These flags allow npm to install packages with conflicting peer dependencies

The `--legacy-peer-deps` flag tells npm to ignore peer dependency conflicts and proceed with installation, which should resolve the Angular version compatibility issues seen in the error logs.20:17:37 | INFO | â³ Iteration 3: Testing fix attempt 3 of 40...
20:17:37 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:17:39 | INFO | Building derivation outputs: /nix/store/94x2a6zcf018r5qnbzc62s2219cpqgs3-BookLore-0.33.0.drv^*
20:18:51 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:18:51 | INFO | previous error (last 50 lines): 
```
... (460 lines omitted) ...

[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```

20:18:51 | INFO | new error (last 50 lines): 
```
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
[1mnpm[22m [33mwarn[39m [94musing --force[39m Recommended protections disabled.
[1mnpm[22m [31merror[39m Exit handler never called!
[1mnpm[22m [31merror[39m This is an error with npm itself. Please report this error at:
[1mnpm[22m [31merror[39m   <https://github.com/npm/cli/issues>
[1mnpm[22m [31merror[39m Log files were not written due to an error writing to the directory: /homeless-shelter/.npm/_logs
[1mnpm[22m [31merror[39m You can rerun the command with `--loglevel=verbose` to see the logs in your terminal

```

20:18:51 | INFO | []
20:18:51 | INFO | Log comparison details:
20:18:51 | INFO |   Initial build: 509 total lines
20:18:51 | INFO |   Attempted improvement: 19 total lines
20:18:51 | INFO |   Logs diverge at line: 15
20:18:51 | INFO |   Sending to model - truncated logs showing divergence
20:18:51 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:18:53 | INFO | 
ðŸ¤– model: NixBuildErrorDiff.REGRESS
20:18:53 | INFO | 
ðŸŽ¯ coordinator: Iteration 3 regressed...
20:18:53 | INFO | 
ðŸŽ¯ coordinator: Iteration 4:
20:18:53 | INFO | 
ðŸŽ¯ coordinator: ```
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```
20:18:53 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:18:53 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}

20:18:53 | INFO | 
ðŸŽ¯ coordinator: error:
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project


20:18:53 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:18:55 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 11625
Final Completion Tokens: 618
Final Total Tokens: 12243
Total Stream Cost: $0.011772
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 9460
Final Completion Tokens: 35
Final Total Tokens: 9495
Total Stream Cost: $0.007708
------------------------------------------

Based on the error message, the issue appears to be with Angular package dependencies. The main problem is that the project is using Angular 20.0.1, but some packages like `ngx-infinite-scroll` have peer dependencies for Angular 19.x.

I'll modify the Nix derivation to use `npm` with the `--legacy-peer-deps` flag to resolve these dependency conflicts:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --legacy-peer-deps
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```

The key change is adding `--legacy-peer-deps` to the `npm install` command. This flag tells npm to ignore peer dependency conflicts and install packages anyway, which resolves the warnings about Angular package version mismatches.

The `--legacy-peer-deps` flag is a temporary solution that allows installing packages with conflicting peer dependencies, which is common in the Angular ecosystem where packages may have slightly different version requirements.20:19:07 | INFO | â³ Iteration 4: Testing fix attempt 4 of 40...
20:19:07 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:19:08 | INFO | Building derivation outputs: /nix/store/vkbv6q9vyb9bpq01casshhpmd6p08h86-BookLore-0.33.0.drv^*
20:20:21 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:20:21 | INFO | previous error (last 50 lines): 
```
... (460 lines omitted) ...

[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```

20:20:21 | INFO | new error (last 50 lines): 
```
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
[1mnpm[22m [31merror[39m Exit handler never called!
[1mnpm[22m [31merror[39m This is an error with npm itself. Please report this error at:
[1mnpm[22m [31merror[39m   <https://github.com/npm/cli/issues>
[1mnpm[22m [31merror[39m Log files were not written due to an error writing to the directory: /homeless-shelter/.npm/_logs
[1mnpm[22m [31merror[39m You can rerun the command with `--loglevel=verbose` to see the logs in your terminal

```

20:20:21 | INFO | []
20:20:21 | INFO | Log comparison details:
20:20:21 | INFO |   Initial build: 509 total lines
20:20:21 | INFO |   Attempted improvement: 18 total lines
20:20:21 | INFO |   Logs diverge at line: 14
20:20:21 | INFO |   Sending to model - truncated logs showing divergence
20:20:21 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:20:23 | INFO | 
ðŸ¤– model: NixBuildErrorDiff.REGRESS
20:20:23 | INFO | 
ðŸŽ¯ coordinator: Iteration 4 regressed...
20:20:23 | INFO | 
ðŸŽ¯ coordinator: Iteration 5:
20:20:23 | INFO | 
ðŸŽ¯ coordinator: ```
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```
20:20:23 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:20:23 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}

20:20:23 | INFO | 
ðŸŽ¯ coordinator: error:
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project


20:20:23 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:20:24 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 11625
Final Completion Tokens: 614
Final Total Tokens: 12239
Total Stream Cost: $0.011756
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 9460
Final Completion Tokens: 35
Final Total Tokens: 9495
Total Stream Cost: $0.007708
------------------------------------------

Based on the error message, the main issue appears to be a dependency conflict between Angular package versions. The project is using Angular 20.0.1, but some dependencies like `ngx-infinite-scroll` expect Angular 19.x.

To resolve this, I'll modify the Nix package to use `npm install --legacy-peer-deps` which will allow installing packages with conflicting peer dependencies:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --legacy-peer-deps
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```

The key change is using `npm install --legacy-peer-deps` instead of `npm install --force`. This flag tells npm to ignore peer dependency conflicts and install packages anyway, which should resolve the version incompatibility issues seen in the error log.

The rest of the package remains the same, maintaining the original build and install phases. This approach should allow the Angular frontend to be built successfully despite the version conflicts between different Angular packages and dependencies.20:20:36 | INFO | â³ Iteration 5: Testing fix attempt 5 of 40...
20:20:36 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:20:38 | INFO | Building derivation outputs: /nix/store/vkbv6q9vyb9bpq01casshhpmd6p08h86-BookLore-0.33.0.drv^*
20:21:50 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:21:50 | INFO | previous error (last 50 lines): 
```
... (460 lines omitted) ...

[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```

20:21:50 | INFO | new error (last 50 lines): 
```
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
[1mnpm[22m [31merror[39m Exit handler never called!
[1mnpm[22m [31merror[39m This is an error with npm itself. Please report this error at:
[1mnpm[22m [31merror[39m   <https://github.com/npm/cli/issues>
[1mnpm[22m [31merror[39m Log files were not written due to an error writing to the directory: /homeless-shelter/.npm/_logs
[1mnpm[22m [31merror[39m You can rerun the command with `--loglevel=verbose` to see the logs in your terminal

```

20:21:50 | INFO | []
20:21:50 | INFO | Log comparison details:
20:21:50 | INFO |   Initial build: 509 total lines
20:21:50 | INFO |   Attempted improvement: 18 total lines
20:21:50 | INFO |   Logs diverge at line: 14
20:21:50 | INFO |   Sending to model - truncated logs showing divergence
20:21:50 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:21:52 | INFO | 
ðŸ¤– model: NixBuildErrorDiff.REGRESS
20:21:52 | INFO | 
ðŸŽ¯ coordinator: Iteration 5 regressed...
20:21:52 | INFO | 
ðŸŽ¯ coordinator: Iteration 6:
20:21:52 | INFO | 
ðŸŽ¯ coordinator: ```
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```
20:21:52 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:21:52 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}

20:21:52 | INFO | 
ðŸŽ¯ coordinator: error:
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project


20:21:52 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:21:54 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 11625
Final Completion Tokens: 617
Final Total Tokens: 12242
Total Stream Cost: $0.011768
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 9460
Final Completion Tokens: 35
Final Total Tokens: 9495
Total Stream Cost: $0.007708
------------------------------------------

Based on the error message, the main issue appears to be package dependency conflicts in the Angular frontend, specifically with Angular Core versions. The project is using Angular 20.0.1, but some dependencies like `ngx-infinite-scroll` are expecting Angular versions in the 19.x range.

I'll modify the Nix derivation to use `npm install --legacy-peer-deps` to force installation despite peer dependency conflicts:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --legacy-peer-deps
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```

The key change is using `npm install --legacy-peer-deps` instead of `npm install --force`. This option allows npm to install packages with conflicting peer dependencies by ignoring those conflicts, which seems to be the root cause of the error.

The `--legacy-peer-deps` flag tells npm to use the behavior from npm version 6, where peer dependency conflicts are essentially ignored. This should allow the installation to proceed despite the version mismatches between Angular Core and other dependencies.

All other aspects of the derivation remain the same, preserving the original build and install logic.20:22:06 | INFO | â³ Iteration 6: Testing fix attempt 6 of 40...
20:22:06 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:22:07 | INFO | Building derivation outputs: /nix/store/vkbv6q9vyb9bpq01casshhpmd6p08h86-BookLore-0.33.0.drv^*
20:23:20 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:23:20 | INFO | previous error (last 50 lines): 
```
... (460 lines omitted) ...

[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```

20:23:20 | INFO | new error (last 50 lines): 
```
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
[1mnpm[22m [31merror[39m Exit handler never called!
[1mnpm[22m [31merror[39m This is an error with npm itself. Please report this error at:
[1mnpm[22m [31merror[39m   <https://github.com/npm/cli/issues>
[1mnpm[22m [31merror[39m Log files were not written due to an error writing to the directory: /homeless-shelter/.npm/_logs
[1mnpm[22m [31merror[39m You can rerun the command with `--loglevel=verbose` to see the logs in your terminal

```

20:23:20 | INFO | []
20:23:20 | INFO | Log comparison details:
20:23:20 | INFO |   Initial build: 509 total lines
20:23:20 | INFO |   Attempted improvement: 18 total lines
20:23:20 | INFO |   Logs diverge at line: 14
20:23:20 | INFO |   Sending to model - truncated logs showing divergence
20:23:20 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:23:22 | INFO | 
ðŸ¤– model: NixBuildErrorDiff.REGRESS
20:23:22 | INFO | 
ðŸŽ¯ coordinator: Iteration 6 regressed...
20:23:22 | INFO | 
ðŸŽ¯ coordinator: Iteration 7:
20:23:22 | INFO | 
ðŸŽ¯ coordinator: ```
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```
20:23:22 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:23:22 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}

20:23:22 | INFO | 
ðŸŽ¯ coordinator: error:
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project


20:23:22 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:23:23 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 11625
Final Completion Tokens: 654
Final Total Tokens: 12279
Total Stream Cost: $0.011916
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 9460
Final Completion Tokens: 35
Final Total Tokens: 9495
Total Stream Cost: $0.007708
------------------------------------------

Based on the error message, the core issue appears to be dependency conflicts in the Angular packages, particularly with `ngx-infinite-scroll` and other Angular libraries. The project is using Angular 20.0.1, but some dependencies expect Angular 19.x.

To resolve this, I'll modify the `buildPhase` to use `npm install --legacy-peer-deps` which will allow npm to ignore peer dependency conflicts:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --legacy-peer-deps
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```

The key change is replacing `npm install --force` with `npm install --legacy-peer-deps`. This flag tells npm to ignore peer dependency conflicts and install packages anyway, which should resolve the version compatibility issues seen in the error message.

The `--legacy-peer-deps` flag allows npm to install packages with conflicting peer dependencies, which is common in complex Angular projects with multiple libraries that may have slightly different version requirements.

This approach maintains the existing build structure while addressing the npm dependency resolution warnings by being more permissive in package installation.20:23:36 | INFO | â³ Iteration 7: Testing fix attempt 7 of 40...
20:23:37 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:23:38 | INFO | Building derivation outputs: /nix/store/vkbv6q9vyb9bpq01casshhpmd6p08h86-BookLore-0.33.0.drv^*
20:24:51 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:24:51 | INFO | previous error (last 50 lines): 
```
... (460 lines omitted) ...

[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```

20:24:51 | INFO | new error (last 50 lines): 
```
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
[1mnpm[22m [31merror[39m Exit handler never called!
[1mnpm[22m [31merror[39m This is an error with npm itself. Please report this error at:
[1mnpm[22m [31merror[39m   <https://github.com/npm/cli/issues>
[1mnpm[22m [31merror[39m Log files were not written due to an error writing to the directory: /homeless-shelter/.npm/_logs
[1mnpm[22m [31merror[39m You can rerun the command with `--loglevel=verbose` to see the logs in your terminal

```

20:24:51 | INFO | []
20:24:51 | INFO | Log comparison details:
20:24:51 | INFO |   Initial build: 509 total lines
20:24:51 | INFO |   Attempted improvement: 18 total lines
20:24:51 | INFO |   Logs diverge at line: 14
20:24:51 | INFO |   Sending to model - truncated logs showing divergence
20:24:51 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:24:52 | INFO | 
ðŸ¤– model: NixBuildErrorDiff.REGRESS
20:24:52 | INFO | 
ðŸŽ¯ coordinator: Iteration 7 regressed...
20:24:52 | INFO | 
ðŸŽ¯ coordinator: Iteration 8:
20:24:52 | INFO | 
ðŸŽ¯ coordinator: ```
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```
20:24:52 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:24:52 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}

20:24:52 | INFO | 
ðŸŽ¯ coordinator: error:
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project


20:24:52 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:24:55 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 11625
Final Completion Tokens: 644
Final Total Tokens: 12269
Total Stream Cost: $0.011876
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 9460
Final Completion Tokens: 35
Final Total Tokens: 9495
Total Stream Cost: $0.007708
------------------------------------------

Looking at the error message, this appears to be an Angular dependency resolution issue. The key problem is that the project is using Angular 20.0.1, but some dependencies like `ngx-infinite-scroll` are expecting Angular 19.x.

To resolve this, I'll modify the `buildPhase` to use `--force` and specify the correct configuration:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --legacy-peer-deps
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```

The key changes are:
1. Replace `npm install --force` with `npm install --legacy-peer-deps`
   - This resolves peer dependency conflicts by using legacy resolution logic
2. Kept the rest of the code exactly the same

The `--legacy-peer-deps` flag tells npm to use its older peer dependency resolution strategy, which is more permissive and should allow the build to proceed despite version mismatches.

This change addresses the core issue of Angular package dependencies without fundamentally altering the build process. The error messages suggest complex dependency conflicts, and `--legacy-peer-deps` provides a pragmatic solution to bypass these conflicts.20:25:07 | INFO | â³ Iteration 8: Testing fix attempt 8 of 40...
20:25:08 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:25:09 | INFO | Building derivation outputs: /nix/store/vkbv6q9vyb9bpq01casshhpmd6p08h86-BookLore-0.33.0.drv^*
20:26:21 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:26:21 | INFO | previous error (last 50 lines): 
```
... (460 lines omitted) ...

[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```

20:26:21 | INFO | new error (last 50 lines): 
```
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
[1mnpm[22m [31merror[39m Exit handler never called!
[1mnpm[22m [31merror[39m This is an error with npm itself. Please report this error at:
[1mnpm[22m [31merror[39m   <https://github.com/npm/cli/issues>
[1mnpm[22m [31merror[39m Log files were not written due to an error writing to the directory: /homeless-shelter/.npm/_logs
[1mnpm[22m [31merror[39m You can rerun the command with `--loglevel=verbose` to see the logs in your terminal

```

20:26:21 | INFO | []
20:26:21 | INFO | Log comparison details:
20:26:21 | INFO |   Initial build: 509 total lines
20:26:21 | INFO |   Attempted improvement: 18 total lines
20:26:21 | INFO |   Logs diverge at line: 14
20:26:21 | INFO |   Sending to model - truncated logs showing divergence
20:26:21 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:26:25 | INFO | 
ðŸ¤– model: NixBuildErrorDiff.REGRESS
20:26:25 | INFO | 
ðŸŽ¯ coordinator: Iteration 8 regressed...
20:26:25 | INFO | 
ðŸŽ¯ coordinator: Iteration 9:
20:26:25 | INFO | 
ðŸŽ¯ coordinator: ```
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```
20:26:25 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:26:25 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}

20:26:25 | INFO | 
ðŸŽ¯ coordinator: error:
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project


20:26:25 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:26:27 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 11625
Final Completion Tokens: 658
Final Total Tokens: 12283
Total Stream Cost: $0.011932
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 9460
Final Completion Tokens: 35
Final Total Tokens: 9495
Total Stream Cost: $0.007708
------------------------------------------

Based on the error message, the main issue appears to be with Angular package dependencies. The project is using Angular 20.0.1, but some packages like `ngx-infinite-scroll` have peer dependencies that are incompatible with this version.

The error suggests using `--force` during `npm install` is causing dependency resolution problems. To address this, I'll modify the `buildPhase` to use more explicit dependency management:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = lib.fakeHash;
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm ci  # Use clean install instead of npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```

Key changes:
1. Replaced `npm install --force` with `npm ci`, which is a more strict installation method that respects the `package-lock.json`
2. Used `lib.fakeHash` as a placeholder for the source hash, which will be replaced by the actual hash during the build process

The `npm ci` command should help resolve the dependency conflicts by strictly adhering to the locked versions in `package-lock.json`. If there are still issues, you may need to update the Angular packages in the project to compatible versions.

The `--force` flag was causing npm to override peer dependencies, which led to the complex resolution warnings. By using `npm ci`, we ensure a clean, reproducible install that matches the project's intended dependency graph.20:26:39 | INFO | â³ Iteration 9: Testing fix attempt 9 of 40...
20:26:39 | INFO | Building derivation outputs: /nix/store/90nk98c8fyi4xm732ah0ki7n729019q4-source.drv^*
20:26:41 | INFO | 
ðŸŽ¯ coordinator: Non-build error: NixErrorKind.HASH_MISMATCH
20:26:41 | INFO | 
ðŸŽ¯ coordinator: Iteration 10:
20:26:41 | INFO | 
ðŸŽ¯ coordinator: ```
this derivation will be built:
  /nix/store/90nk98c8fyi4xm732ah0ki7n729019q4-source.drv
these 16 paths will be fetched (4.70 MiB download, 18.01 MiB unpacked):
  /nix/store/3f5adc5ygjllrbgm913gabzf9afmkh7s-curl-8.13.0
  /nix/store/a1v66jvhbr6xia023m16c4pkhxrpkqqr-curl-8.13.0-bin
  /nix/store/0dw5b8ypwqy87xrb0jgn5ygpzsiv6di9-curl-8.13.0-dev
  /nix/store/c5k72696a984v5gcxd7grg6f4154yv8d-curl-8.13.0-man
  /nix/store/dd8qw391ljsri9mkx07mihb1ap0g52mp-krb5-1.21.3
  /nix/store/mgzqqyadpfwhqq68lpfp7c91ywzrzm10-krb5-1.21.3-dev
  /nix/store/jc4bqxwq93ki4b5wf638sgygd1ghjz7a-krb5-1.21.3-lib
  /nix/store/hbg912lq82jclwv8xnrwx5dgm8wq79sb-libssh2-1.11.1
  /nix/store/9pfg9c10kjqzbdfy37vhylkqhmwf1208-libssh2-1.11.1-dev
  /nix/store/nqlhzbplrrhkm2rynv3ild1236p0h1c3-mirrors-list
  /nix/store/yq3yqv9limsk8w5vimygq1h23vjv6i3m-nghttp2-1.65.0
  /nix/store/zh2hx7p0dgkpn08m4gx1csg970dp8b0g-nghttp2-1.65.0-dev
  /nix/store/w5jysn25rynd1d4f3z1nzdkm3rv7rmf0-nghttp2-1.65.0-lib
  /nix/store/qr2rzzddcyvmdlrq1fy68c3nwcz29jyb-openssl-3.4.1
  /nix/store/xr3wxsyn60shsns69sgkxfhv2d95536w-openssl-3.4.1-bin
  /nix/store/jrfl1fwkb3aqbh19ap1ipk8sjlbpcjy4-openssl-3.4.1-dev
copying path '/nix/store/nqlhzbplrrhkm2rynv3ild1236p0h1c3-mirrors-list' from 'https://cache.nixos.org'...
copying path '/nix/store/c5k72696a984v5gcxd7grg6f4154yv8d-curl-8.13.0-man' from 'https://cache.nixos.org'...
copying path '/nix/store/yq3yqv9limsk8w5vimygq1h23vjv6i3m-nghttp2-1.65.0' from 'https://cache.nixos.org'...
copying path '/nix/store/w5jysn25rynd1d4f3z1nzdkm3rv7rmf0-nghttp2-1.65.0-lib' from 'https://cache.nixos.org'...
copying path '/nix/store/qr2rzzddcyvmdlrq1fy68c3nwcz29jyb-openssl-3.4.1' from 'https://cache.nixos.org'...
copying path '/nix/store/zh2hx7p0dgkpn08m4gx1csg970dp8b0g-nghttp2-1.65.0-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/jc4bqxwq93ki4b5wf638sgygd1ghjz7a-krb5-1.21.3-lib' from 'https://cache.nixos.org'...
copying path '/nix/store/hbg912lq82jclwv8xnrwx5dgm8wq79sb-libssh2-1.11.1' from 'https://cache.nixos.org'...
copying path '/nix/store/xr3wxsyn60shsns69sgkxfhv2d95536w-openssl-3.4.1-bin' from 'https://cache.nixos.org'...
copying path '/nix/store/jrfl1fwkb3aqbh19ap1ipk8sjlbpcjy4-openssl-3.4.1-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/9pfg9c10kjqzbdfy37vhylkqhmwf1208-libssh2-1.11.1-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/3f5adc5ygjllrbgm913gabzf9afmkh7s-curl-8.13.0' from 'https://cache.nixos.org'...
copying path '/nix/store/dd8qw391ljsri9mkx07mihb1ap0g52mp-krb5-1.21.3' from 'https://cache.nixos.org'...
copying path '/nix/store/a1v66jvhbr6xia023m16c4pkhxrpkqqr-curl-8.13.0-bin' from 'https://cache.nixos.org'...
copying path '/nix/store/mgzqqyadpfwhqq68lpfp7c91ywzrzm10-krb5-1.21.3-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/0dw5b8ypwqy87xrb0jgn5ygpzsiv6di9-curl-8.13.0-dev' from 'https://cache.nixos.org'...
building '/nix/store/90nk98c8fyi4xm732ah0ki7n729019q4-source.drv'...
error: hash mismatch in fixed-output derivation '/nix/store/90nk98c8fyi4xm732ah0ki7n729019q4-source.drv':
         specified: sha256-AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=
            got:    sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=

```
20:26:41 | INFO | 
ðŸŽ¯ coordinator: Hash mismatch detected, fixing...
20:26:41 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = lib.fakeHash;
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm ci  # Use clean install instead of npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}

20:26:41 | INFO | 
ðŸŽ¯ coordinator: error:
this derivation will be built:
  /nix/store/90nk98c8fyi4xm732ah0ki7n729019q4-source.drv
these 16 paths will be fetched (4.70 MiB download, 18.01 MiB unpacked):
  /nix/store/3f5adc5ygjllrbgm913gabzf9afmkh7s-curl-8.13.0
  /nix/store/a1v66jvhbr6xia023m16c4pkhxrpkqqr-curl-8.13.0-bin
  /nix/store/0dw5b8ypwqy87xrb0jgn5ygpzsiv6di9-curl-8.13.0-dev
  /nix/store/c5k72696a984v5gcxd7grg6f4154yv8d-curl-8.13.0-man
  /nix/store/dd8qw391ljsri9mkx07mihb1ap0g52mp-krb5-1.21.3
  /nix/store/mgzqqyadpfwhqq68lpfp7c91ywzrzm10-krb5-1.21.3-dev
  /nix/store/jc4bqxwq93ki4b5wf638sgygd1ghjz7a-krb5-1.21.3-lib
  /nix/store/hbg912lq82jclwv8xnrwx5dgm8wq79sb-libssh2-1.11.1
  /nix/store/9pfg9c10kjqzbdfy37vhylkqhmwf1208-libssh2-1.11.1-dev
  /nix/store/nqlhzbplrrhkm2rynv3ild1236p0h1c3-mirrors-list
  /nix/store/yq3yqv9limsk8w5vimygq1h23vjv6i3m-nghttp2-1.65.0
  /nix/store/zh2hx7p0dgkpn08m4gx1csg970dp8b0g-nghttp2-1.65.0-dev
  /nix/store/w5jysn25rynd1d4f3z1nzdkm3rv7rmf0-nghttp2-1.65.0-lib
  /nix/store/qr2rzzddcyvmdlrq1fy68c3nwcz29jyb-openssl-3.4.1
  /nix/store/xr3wxsyn60shsns69sgkxfhv2d95536w-openssl-3.4.1-bin
  /nix/store/jrfl1fwkb3aqbh19ap1ipk8sjlbpcjy4-openssl-3.4.1-dev
copying path '/nix/store/nqlhzbplrrhkm2rynv3ild1236p0h1c3-mirrors-list' from 'https://cache.nixos.org'...
copying path '/nix/store/c5k72696a984v5gcxd7grg6f4154yv8d-curl-8.13.0-man' from 'https://cache.nixos.org'...
copying path '/nix/store/yq3yqv9limsk8w5vimygq1h23vjv6i3m-nghttp2-1.65.0' from 'https://cache.nixos.org'...
copying path '/nix/store/w5jysn25rynd1d4f3z1nzdkm3rv7rmf0-nghttp2-1.65.0-lib' from 'https://cache.nixos.org'...
copying path '/nix/store/qr2rzzddcyvmdlrq1fy68c3nwcz29jyb-openssl-3.4.1' from 'https://cache.nixos.org'...
copying path '/nix/store/zh2hx7p0dgkpn08m4gx1csg970dp8b0g-nghttp2-1.65.0-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/jc4bqxwq93ki4b5wf638sgygd1ghjz7a-krb5-1.21.3-lib' from 'https://cache.nixos.org'...
copying path '/nix/store/hbg912lq82jclwv8xnrwx5dgm8wq79sb-libssh2-1.11.1' from 'https://cache.nixos.org'...
copying path '/nix/store/xr3wxsyn60shsns69sgkxfhv2d95536w-openssl-3.4.1-bin' from 'https://cache.nixos.org'...
copying path '/nix/store/jrfl1fwkb3aqbh19ap1ipk8sjlbpcjy4-openssl-3.4.1-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/9pfg9c10kjqzbdfy37vhylkqhmwf1208-libssh2-1.11.1-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/3f5adc5ygjllrbgm913gabzf9afmkh7s-curl-8.13.0' from 'https://cache.nixos.org'...
copying path '/nix/store/dd8qw391ljsri9mkx07mihb1ap0g52mp-krb5-1.21.3' from 'https://cache.nixos.org'...
copying path '/nix/store/a1v66jvhbr6xia023m16c4pkhxrpkqqr-curl-8.13.0-bin' from 'https://cache.nixos.org'...
copying path '/nix/store/mgzqqyadpfwhqq68lpfp7c91ywzrzm10-krb5-1.21.3-dev' from 'https://cache.nixos.org'...
copying path '/nix/store/0dw5b8ypwqy87xrb0jgn5ygpzsiv6di9-curl-8.13.0-dev' from 'https://cache.nixos.org'...
building '/nix/store/90nk98c8fyi4xm732ah0ki7n729019q4-source.drv'...
error: hash mismatch in fixed-output derivation '/nix/store/90nk98c8fyi4xm732ah0ki7n729019q4-source.drv':
         specified: sha256-AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=
            got:    sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=


20:26:41 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:26:42 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 11625
Final Completion Tokens: 659
Final Total Tokens: 12284
Total Stream Cost: $0.011936
------------------------------------------

Based on the error message, I'll replace `lib.fakeHash` with the actual hash value provided in the error message:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm ci  # Use clean install instead of npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```20:26:49 | INFO | â³ Iteration 10: Testing fix attempt 10 of 40...
20:26:49 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:26:50 | INFO | Building derivation outputs: /nix/store/x8x3wcxp4v811yk2sb5m83607h04q0zb-BookLore-0.33.0.drv^*
20:33:51 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:33:51 | INFO | previous error (last 50 lines): 
```
... (460 lines omitted) ...

[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```

20:33:51 | INFO | new error (last 50 lines): 
```
... (459 lines omitted) ...

[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```

20:33:51 | INFO | []
20:33:51 | INFO | Log comparison details:
20:33:51 | INFO |   Initial build: 509 total lines
20:33:51 | INFO |   Attempted improvement: 508 total lines
20:33:51 | INFO |   Logs diverge at line: 14
20:33:51 | INFO |   Sending to model - truncated logs showing divergence
20:33:51 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:33:54 | INFO | 
ðŸ¤– model: NixBuildErrorDiff.STAGNATION
20:33:54 | INFO | 
ðŸŽ¯ coordinator: Iteration 10 stagnated...
20:33:54 | INFO | 
ðŸŽ¯ coordinator: Iteration 11:
20:33:54 | INFO | 
ðŸŽ¯ coordinator: ```
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```
20:33:54 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:33:54 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}

20:33:54 | INFO | 
ðŸŽ¯ coordinator: error:
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project


20:33:54 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:33:56 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 2479
Final Completion Tokens: 469
Final Total Tokens: 2948
Total Stream Cost: $0.003859
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 17797
Final Completion Tokens: 36
Final Total Tokens: 17833
Total Stream Cost: $0.014382
------------------------------------------

Based on the error message, the main issue appears to be with Angular package dependencies. The project is using Angular 20.0.1, but some packages like `ngx-infinite-scroll` and `primeng` expect Angular 19.x. 

To resolve this, I'll modify the `buildPhase` to use `--force` and add `--legacy-peer-deps` to npm install to bypass peer dependency conflicts:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force --legacy-peer-deps
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```

The key changes are:
1. Added `--force` to npm install to override conflicts
2. Added `--legacy-peer-deps` to allow installation despite peer dependency mismatches

These flags should help resolve the dependency resolution warnings by allowing npm to proceed with the installation despite version conflicts between Angular packages.20:34:07 | INFO | â³ Iteration 11: Testing fix attempt 11 of 40...
20:34:07 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:34:09 | INFO | Building derivation outputs: /nix/store/94x2a6zcf018r5qnbzc62s2219cpqgs3-BookLore-0.33.0.drv^*
20:35:21 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:35:21 | INFO | previous error (last 50 lines): 
```
... (460 lines omitted) ...

[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```

20:35:21 | INFO | new error (last 50 lines): 
```
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
[1mnpm[22m [33mwarn[39m [94musing --force[39m Recommended protections disabled.
[1mnpm[22m [31merror[39m Exit handler never called!
[1mnpm[22m [31merror[39m This is an error with npm itself. Please report this error at:
[1mnpm[22m [31merror[39m   <https://github.com/npm/cli/issues>
[1mnpm[22m [31merror[39m Log files were not written due to an error writing to the directory: /homeless-shelter/.npm/_logs
[1mnpm[22m [31merror[39m You can rerun the command with `--loglevel=verbose` to see the logs in your terminal

```

20:35:21 | INFO | []
20:35:21 | INFO | Log comparison details:
20:35:21 | INFO |   Initial build: 509 total lines
20:35:21 | INFO |   Attempted improvement: 19 total lines
20:35:21 | INFO |   Logs diverge at line: 15
20:35:21 | INFO |   Sending to model - truncated logs showing divergence
20:35:21 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:35:23 | INFO | 
ðŸ¤– model: NixBuildErrorDiff.REGRESS
20:35:23 | INFO | 
ðŸŽ¯ coordinator: Iteration 11 regressed...
20:35:23 | INFO | 
ðŸŽ¯ coordinator: Iteration 12:
20:35:23 | INFO | 
ðŸŽ¯ coordinator: ```
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```
20:35:23 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:35:23 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}

20:35:23 | INFO | 
ðŸŽ¯ coordinator: error:
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project


20:35:23 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:35:25 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 11625
Final Completion Tokens: 598
Final Total Tokens: 12223
Total Stream Cost: $0.011692
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 9460
Final Completion Tokens: 35
Final Total Tokens: 9495
Total Stream Cost: $0.007708
------------------------------------------

After carefully analyzing the error message and the project details, I can see this is an Angular frontend with npm dependencies having peer dependency conflicts. The key issue is the Angular core version mismatch between dependencies.

The solution is to use `npm install --legacy-peer-deps` instead of `npm install --force`. This will allow npm to install packages with conflicting peer dependencies by ignoring them, which is what the project needs.

Here's the updated Nix derivation:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --legacy-peer-deps
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```

The key change is replacing `npm install --force` with `npm install --legacy-peer-deps`. This will allow npm to install packages with conflicting peer dependencies by ignoring them, which resolves the error seen in the logs.

The `--legacy-peer-deps` flag tells npm to ignore peer dependency conflicts and install packages anyway, which is often necessary with complex Angular dependency trees. This approach is preferred over `--force` as it provides more predictable dependency resolution.20:35:36 | INFO | â³ Iteration 12: Testing fix attempt 12 of 40...
20:35:37 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:35:38 | INFO | Building derivation outputs: /nix/store/vkbv6q9vyb9bpq01casshhpmd6p08h86-BookLore-0.33.0.drv^*
20:36:51 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:36:51 | INFO | previous error (last 50 lines): 
```
... (460 lines omitted) ...

[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```

20:36:51 | INFO | new error (last 50 lines): 
```
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
[1mnpm[22m [31merror[39m Exit handler never called!
[1mnpm[22m [31merror[39m This is an error with npm itself. Please report this error at:
[1mnpm[22m [31merror[39m   <https://github.com/npm/cli/issues>
[1mnpm[22m [31merror[39m Log files were not written due to an error writing to the directory: /homeless-shelter/.npm/_logs
[1mnpm[22m [31merror[39m You can rerun the command with `--loglevel=verbose` to see the logs in your terminal

```

20:36:51 | INFO | []
20:36:51 | INFO | Log comparison details:
20:36:51 | INFO |   Initial build: 509 total lines
20:36:51 | INFO |   Attempted improvement: 18 total lines
20:36:51 | INFO |   Logs diverge at line: 14
20:36:51 | INFO |   Sending to model - truncated logs showing divergence
20:36:51 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:36:53 | INFO | 
ðŸ¤– model: NixBuildErrorDiff.REGRESS
20:36:53 | INFO | 
ðŸŽ¯ coordinator: Iteration 12 regressed...
20:36:53 | INFO | 
ðŸŽ¯ coordinator: Iteration 13:
20:36:53 | INFO | 
ðŸŽ¯ coordinator: ```
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```
20:36:53 | INFO | 
ðŸŽ¯ coordinator: Other error detected, fixing...
20:36:53 | INFO | 
ðŸŽ¯ coordinator: code:
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --force
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}

20:36:53 | INFO | 
ðŸŽ¯ coordinator: error:
... (254 lines omitted) ...

[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m peerOptional @angular/core@"^20.0.0" from @angular-devkit/build-angular@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular-devkit/build-angular[22m
[1mnpm[22m [33mwarn[39m   [34mdev[39m @angular-devkit/build-angular@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/animations@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/animations[22m
[1mnpm[22m [33mwarn[39m   @angular/animations@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   1 more (@angular/platform-browser)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0 || ^20.0.0" from @angular/cdk@19.2.18[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/cdk[22m
[1mnpm[22m [33mwarn[39m   [95mpeer[39m @angular/cdk@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m   [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/forms@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/forms[22m
[1mnpm[22m [33mwarn[39m   @angular/forms@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   5 more (@angular-devkit/build-angular, @angular/build, ...)
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/platform-browser-dynamic@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/platform-browser-dynamic[22m
[1mnpm[22m [33mwarn[39m   @angular/platform-browser-dynamic@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"20.0.1" from @angular/router@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/router[22m
[1mnpm[22m [33mwarn[39m   @angular/router@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=20.0.0" from angular-oauth2-oidc@20.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/angular-oauth2-oidc[22m
[1mnpm[22m [33mwarn[39m   angular-oauth2-oidc@"^20.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project


20:36:53 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:36:54 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 11625
Final Completion Tokens: 638
Final Total Tokens: 12263
Total Stream Cost: $0.011852
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 9460
Final Completion Tokens: 35
Final Total Tokens: 9495
Total Stream Cost: $0.007708
------------------------------------------

Based on the error message, it appears that there are dependency conflicts in the Angular project, specifically with ngx-infinite-scroll and Angular core versions. The root cause is a version mismatch between the project's dependencies.

Here's an updated Nix derivation that attempts to resolve these issues:

```nix
{ lib
, stdenv
, fetchFromGitHub
, nodejs
, gradle
, jdk21
, nginx
}:

stdenv.mkDerivation rec {
  pname = "BookLore";
  version = "0.33.0";

  src = fetchFromGitHub {
    owner = "adityachandelgit";
    repo = "BookLore";
    rev = "v${version}";
    hash = "sha256-XmzDdnpIQiCnpTQNaIFZQXPocgvD7T7aGa5zYlXQI80=";
  };

  nativeBuildInputs = [ nodejs gradle jdk21 nginx ];

  buildPhase = ''
    # Build Angular frontend
    cd booklore-ui
    npm install --legacy-peer-deps
    npm run build --configuration=production
    cd ..

    # Build Spring Boot backend
    cd booklore-api
    gradle clean build
    cd ..
  '';

  installPhase = ''
    mkdir -p $out/lib $out/bin $out/share/nginx

    # Install frontend
    cp -r booklore-ui/dist/booklore/browser $out/share/nginx/html

    # Install backend JAR
    cp booklore-api/build/libs/booklore-api-0.0.1-SNAPSHOT.jar $out/lib/booklore-api.jar

    # Create start script
    cat > $out/bin/booklore <<EOF
    #!/bin/sh
    nginx -g "daemon off;" &
    exec java -jar $out/lib/booklore-api.jar
    EOF
    chmod +x $out/bin/booklore
  '';
}
```

The key change is in the frontend build phase, where I've added the `--legacy-peer-deps` flag to the `npm install` command. This flag tells npm to bypass peer dependency conflicts and install packages anyway, which should resolve the version mismatch errors we're seeing.

The `--legacy-peer-deps` flag will allow npm to install packages even when there are peer dependency conflicts, which appears to be the case with the Angular core versions and ngx-infinite-scroll.

This approach maintains the original build structure while providing a workaround for the dependency resolution issues. The flag essentially tells npm to use its pre-version 7 behavior of installing packages despite peer dependency conflicts.20:37:06 | INFO | â³ Iteration 13: Testing fix attempt 13 of 40...
20:37:07 | INFO | Building derivation outputs: /nix/store/cs0dps31rykg0jh3q76dm86knq7cyk4q-source.drv^*
20:37:08 | INFO | Building derivation outputs: /nix/store/vkbv6q9vyb9bpq01casshhpmd6p08h86-BookLore-0.33.0.drv^*
20:38:20 | INFO | 
ðŸŽ¯ coordinator: Nix build result: NixErrorKind.BUILD_ERROR
20:38:20 | INFO | previous error (last 50 lines): 
```
... (460 lines omitted) ...

[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=11.0.0" from ng-lazyload-image@9.1.3[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ng-lazyload-image[22m
[1mnpm[22m [33mwarn[39m   ng-lazyload-image@"^9.1.3" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=17.0.0 <21.0.0" from ngx-extended-pdf-viewer@23.3.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-extended-pdf-viewer[22m
[1mnpm[22m [33mwarn[39m   ngx-extended-pdf-viewer@"^23.3.1" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@20.0.1[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m   10 more (@angular-devkit/build-angular, @angular/animations, ...)
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@"^19.0.0" from primeng@19.1.2[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/primeng[22m
[1mnpm[22m [33mwarn[39m   primeng@"19.1.2" from the root project
[1mnpm[22m [33mwarn[39m [94mERESOLVE[39m overriding peer dependency
[1mnpm[22m [33mwarn[39m While resolving: ngx-infinite-scroll@19.0.0
[1mnpm[22m [33mwarn[39m Found: @angular/core@undefined[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/@angular/core[22m
[1mnpm[22m [33mwarn[39m   @angular/core@"^20.0.1" from the root project
[1mnpm[22m [33mwarn[39m
[1mnpm[22m [33mwarn[39m Could not resolve dependency:
[1mnpm[22m [33mwarn[39m [95mpeer[39m @angular/core@">=19.0.0 <20.0.0" from ngx-infinite-scroll@19.0.0[2m[22m
[1mnpm[22m [33mwarn[39m [2mnode_modules/ngx-infinite-scroll[22m
[1mnpm[22m [33mwarn[39m   ngx-infinite-scroll@"^19.0.0" from the root project

```

20:38:20 | INFO | new error (last 50 lines): 
```
Running phase: unpackPhase
@nix { "action": "setPhase", "phase": "unpackPhase" }
unpacking source archive /nix/store/4z625fkmmm807m72ynz8bzndp2zmjz64-source
source root is source
Running phase: patchPhase
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: configurePhase
@nix { "action": "setPhase", "phase": "configurePhase" }
no configure script, doing nothing
Running phase: buildPhase
@nix { "action": "setPhase", "phase": "buildPhase" }
[1mnpm[22m [31merror[39m Exit handler never called!
[1mnpm[22m [31merror[39m This is an error with npm itself. Please report this error at:
[1mnpm[22m [31merror[39m   <https://github.com/npm/cli/issues>
[1mnpm[22m [31merror[39m Log files were not written due to an error writing to the directory: /homeless-shelter/.npm/_logs
[1mnpm[22m [31merror[39m You can rerun the command with `--loglevel=verbose` to see the logs in your terminal

```

20:38:20 | INFO | []
20:38:20 | INFO | Log comparison details:
20:38:20 | INFO |   Initial build: 509 total lines
20:38:20 | INFO |   Attempted improvement: 18 total lines
20:38:20 | INFO |   Logs diverge at line: 14
20:38:20 | INFO |   Sending to model - truncated logs showing divergence
20:38:20 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:38:22 | INFO | 
ðŸ¤– model: NixBuildErrorDiff.REGRESS
20:38:22 | INFO | 
ðŸŽ¯ coordinator: Iteration 13 regressed...
20:38:22 | ERROR | âŒ Error: Reached MAX_ITERATIONS build iteration limit of 40.
20:38:22 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:38:24 | INFO | ðŸ¤– model: 


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 11625
Final Completion Tokens: 647
Final Total Tokens: 12272
Total Stream Cost: $0.011888
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 9460
Final Completion Tokens: 35
Final Total Tokens: 9495
Total Stream Cost: $0.007708
------------------------------------------

After analyzing the Nix packaging code, error logs, and project information, here's a concise summary of the packaging problem:

The BookLore project's Angular frontend has complex dependency resolution issues due to mismatched Angular core versions (20.0.1) and peer dependencies of packages like `ngx-infinite-scroll` (19.0.0), which require Angular core versions between 19.0.0 and 20.0.0. This version incompatibility prevents successful npm package installation and build, making the Nix package creation challenging without manually resolving or pinning specific package versions.20:38:27 | INFO | 
ðŸŽ¯ coordinator: @model You are software packaging expert who can build any project using the Nix programming language.
20:38:28 | INFO | 
ðŸ¤– model: PackagingFailure.DEPENDENCY_NOT_IN_NIXPKGS
20:38:28 | INFO | 
ðŸŽ¯ coordinator: Packaging failure type: PackagingFailure.DEPENDENCY_NOT_IN_NIXPKGS
Details:
After analyzing the Nix packaging code, error logs, and project information, here's a concise summary of the packaging problem:

The BookLore project's Angular frontend has complex dependency resolution issues due to mismatched Angular core versions (20.0.1) and peer dependencies of packages like `ngx-infinite-scroll` (19.0.0), which require Angular core versions between 19.0.0 and 20.0.0. This version incompatibility prevents successful npm package installation and build, making the Nix package creation challenging without manually resolving or pinning specific package versions.

20:38:28 | INFO | 
ðŸŽ¯ coordinator: Packaging failed. Please check the errors above.
20:38:28 | INFO | 
ðŸŽ¯ coordinator: 
ðŸ’° Total API cost: $0.240943


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 11461
Final Completion Tokens: 133
Final Total Tokens: 11594
Total Stream Cost: $0.009701
------------------------------------------


--- STREAM COMPLETE (Callback Triggered) ---
Final Prompt Tokens: 809
Final Completion Tokens: 44
Final Total Tokens: 853
Total Stream Cost: $0.000823
------------------------------------------

