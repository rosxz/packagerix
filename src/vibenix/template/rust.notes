Important notes for packaging Rust applications:

1. Use rustPlatform.buildRustPackage for all Rust projects
2. Always set useFetchCargoVendor = true for modern nixpkgs
3. `cargoHash` management:
   - Set to lib.fakeHash initially, then update with correct hash from build error
   - This downloads and hashes all Cargo dependencies
   - Change `sourceRoot` if Cargo.lock is in a unconventional location (e.g. sourceRoot = "${src.name}/rust/")
4. Feature management:
   - buildFeatures: Enable specific Cargo features
   - buildNoDefaultFeatures: Disable default features (then specify only needed ones)
5. Testing considerations:
   - Use doCheck = false to disable all tests
   - Use checkFlags to skip specific failing tests
   - Network-dependent tests often need to be skipped (sandbox)
